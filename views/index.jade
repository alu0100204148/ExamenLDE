//- index.jade
extends ./layout.jade

block meta
  // script(src='./js/pl0.js')
  script(src='./js/main.js')

block content
  #content
    p Cargar el ejemplo a parsear
    div
      textarea#original(autofocus='', cols='80', rows='5')
    br
    div
      .loadfile
        button#example1(onclick="dump('/examples/example1.txt');", type='button') example1
        button#example2(onclick="dump('/examples/example2.txt');", type='button') example2
        button#example3(onclick="dump('/examples/example3.txt');", type='button') example3
        button#exampleerr(onclick="dump('/examples/example_err.txt');", type='button') example_err
        input#files(type='file')
      script(type='text/javascript').
        function dump(fileName) {
        $.get(fileName, function (data) {
        $("#original").val(data);
        });
        };
        document.getElementById('files').addEventListener('change', CopyMe, false);
        function CopyMe(evt) {
        var file = evt.target.files[0];
        if (file) {
        var reader = new FileReader();
        reader.onload = function(e) {
        original.innerHTML = e.target.result;
        }
        reader.readAsText(file);
        }
        else { alert("Failed to load file"); }
        }
      script(src='js/pl0.js')
      script(src='js/main.js')
  input#PARSE.mylink.Boton(type='button', value='parse')
  pre#OUTPUT.